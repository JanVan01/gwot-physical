{% extends "base/frontend.html" %}

{% block resources %}
<!-- Load c3.css -->
<link href="//cdnjs.cloudflare.com/ajax/libs/c3/0.1.29/c3.css" rel="stylesheet" type="text/css">
<!-- Load d3.js and c3.js -->
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/c3/0.1.29/c3.js"></script>
<!-- Rangeslider -->
<script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />

<script type="text/javascript">
// Extracting data which is needed in the following steps
{% set comma = joiner(",") %}
var sensorTypes = [{% for item in data.sensors %} {{ comma() }}'{{ item.type }}' {% endfor %}];
var sensorIds = [{% for item in data.sensors %} '{{ item.id }}' {{ comma() }}{% endfor %}];
var sensorUnits = [{% for item in data.sensors %} '{{ item.unit }}' {{ comma() }}{% endfor %}];
var locationNames = [{% for item in data.locations %} '{{ item.name }}' {{ comma() }} {% endfor %}];
var locationIds = [{% for item in data.locations %} '{{ item.id }}' {{ comma() }} {% endfor %}];

$(function() {
	$('[data-toggle="tooltip"]').tooltip();
	createButtons();
	selectButtonsByName('sensor')[0].click();
	selectButtonsByName('location')[0].click();
});
</script>
<script type="text/javascript" src="{{ url_for('static', filename='datahandling.js') }}"></script>

{% endblock resources %}

{% block navigation %}data{% endblock navigation %}

{% block content %}
<div class="container-fluid">
<div class="row">
	<h1 class="col-md-12">Data</h1>
</div>
<div class="row">

    <div class="col-sm-10">
        <div class="chart-wrapper">
            <div class="chart-title">
                <br>
                <p id="demo"></p>
                </p>
                <br>

                <p id="slider"></p>
                </p>
            </div>
        </div>
    </div>

    <div class="col-sm-2 sidenav">
        <h4>Locations</h4>
        <div class="radio">
            <div id="locations"></div>
        </div>
        <br>
        <h4>Sensors</h4>
        <div class="radio">
            <div id="sensors"></div>
        </div>
    </div>
</div>
</div>

{% endblock content %}
